cd /home/didu/six_stage_homework/Mask2Former && \
source .venv/bin/activate && \
export PYTHONPATH=/home/didu/six_stage_homework/detectron2:$PYTHONPATH && \
python - << 'EOF'
import torch.utils.cpp_extension as cpp_ext
cpp_ext._check_cuda_version = lambda *a, **k: None
EOF

python train_net.py \
  --config-file configs/cityscapes/instance-segmentation/maskformer2_R50_bs16_90k.yaml \
  --num-gpus 1 \
  OUTPUT_DIR output/cityscapes_instance_R50_10k \
  SOLVER.MAX_ITER 10000 \
  DATALOADER.NUM_WORKERS 4 \
  TEST.EVAL_PERIOD 500
